<!DOCTYPE html><!--3ddzafj3y1iV8DPtiYwP4--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/cracking-interview/_next/static/media/569ce4b8f30dc480-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/cracking-interview/_next/static/media/93f479601ee12b01-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="/assets/img/design/online-shopping/use-case.svg"/><link rel="preload" as="image" href="/assets/img/design/online-shopping/class-diagram.png"/><link rel="preload" as="image" href="/assets/img/design/concepts/uml.svg"/><link rel="preload" as="image" href="/assets/img/design/online-shopping/activity.svg"/><link rel="preload" as="image" href="/assets/img/design/online-shopping/sequence-searching.svg"/><link rel="preload" as="image" href="/assets/img/design/online-shopping/sequence-adding-items.svg"/><link rel="preload" as="image" href="/assets/img/design/online-shopping/sequence-checkout.svg"/><link rel="stylesheet" href="/cracking-interview/_next/static/css/ff78c3bf1dd6c987.css" data-precedence="next"/><link rel="stylesheet" href="/cracking-interview/_next/static/css/34937f2da1ffdcf9.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/cracking-interview/_next/static/chunks/webpack-dc8592505c0fbdf6.js"/><script src="/cracking-interview/_next/static/chunks/b76c154f-a60812fa0c7d61dc.js" async=""></script><script src="/cracking-interview/_next/static/chunks/1424-6280bc73105ec745.js" async=""></script><script src="/cracking-interview/_next/static/chunks/main-app-7cddbb46aa1f0e9e.js" async=""></script><script src="/cracking-interview/_next/static/chunks/b321d78c-7a062717568e9902.js" async=""></script><script src="/cracking-interview/_next/static/chunks/26d1fef7-ee766bdebc2771f4.js" async=""></script><script src="/cracking-interview/_next/static/chunks/6334-d195304efa533649.js" async=""></script><script src="/cracking-interview/_next/static/chunks/1959-5ce2d9e80376f08d.js" async=""></script><script src="/cracking-interview/_next/static/chunks/app/layout-25227c6113fa4794.js" async=""></script><script src="/cracking-interview/_next/static/chunks/5982-8f18ab36ced88977.js" async=""></script><script src="/cracking-interview/_next/static/chunks/app/system-design/%5Bslug%5D/page-2e21c7ce311ec90f.js" async=""></script><meta name="next-size-adjust" content=""/><title>Cracking the Interview</title><meta name="description" content="Master coding interviews with comprehensive practice problems, system design, and behavioral questions"/><script src="/cracking-interview/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_68ab41 __variable_8cef05 antialiased"><div hidden=""><!--$--><!--/$--></div><div class="min-h-screen bg-gray-50 dark:bg-gray-900"><div class="container mx-auto px-4 py-8"><div class="mb-8"><a class="text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300" href="/cracking-interview/system-design/">← Back to System Design</a></div><div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm"><div class="p-6 border-b border-gray-200 dark:border-gray-700"><h1 class="text-3xl font-bold text-gray-900 dark:text-white">Online Shopping</h1></div><div class="p-6"><div class="prose prose-lg dark:prose-invert max-w-none"><hr/>
<h2>title: &quot;Design Amazon - Online Shopping System&quot;
author: &quot;Rajat Srivastava&quot;
categories: system-designs
tags: [system-design, hld, lld]
description: &quot;System design concepts and patterns&quot;</h2>
<p><a href="https://amazon.com" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1 text-primary hover:text-primary/80 underline underline-offset-2 transition-colors ">Amazon<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-external-link h-3 w-3" aria-hidden="true"><path d="M15 3h6v6"></path><path d="M10 14 21 3"></path><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path></svg></a> is the world&#x27;s largest online retailer. The company was originally a bookseller but has expanded to sell a wide variety of consumer goods and digital media. For the sake of this problem, we will focus on their online retail business where users can sell/buy their products.</p>
<hr/>
<h2>System Requirements</h2>
<p>We will be designing a system with the following requirements:</p>
<ol>
<li>Users should be able to add new products to sell.</li>
<li>Users should be able to search for products by their name or category.</li>
<li>Users can search and view all the products, but they will have to become a registered member to buy a product.</li>
<li>Users should be able to add/remove/modify product items in their shopping cart.</li>
<li>Users can check out and buy items in the shopping cart.</li>
<li>Users can rate and add a review for a product.</li>
<li>The user should be able to specify a shipping address where their order will be delivered.</li>
<li>Users can cancel an order if it has not shipped.</li>
<li>Users should get notifications whenever there is a change in the order or shipping status.</li>
<li>Users should be able to pay through credit cards or electronic bank transfer.</li>
<li>Users should be able to track their shipment to see the current state of their order.</li>
</ol>
<hr/>
<h2>Use Case Diagrams</h2>
<p>We have four main Actors in our system:</p>
<ul>
<li><strong>Admin:</strong> Mainly responsible for account management and adding or modifying new product categories.</li>
<li><strong>Guest:</strong> All guests can search the catalog, add/remove items to the shopping cart, as well as become registered members.</li>
<li><strong>Member:</strong> Members can perform all the activities that guests can, in addition to which, they can place orders and add new products to sell.</li>
<li><strong>System:</strong> Mainly responsible for sending notifications for orders and shipping updates.</li>
</ul>
<p>Here are the top use cases of the Online Shopping System:</p>
<ol>
<li>Add/update products; whenever a product is added or modified, we will update the catalog.</li>
<li>Search for products by their name or category.</li>
<li>Add/remove product items in the shopping cart.</li>
<li>Check-out to buy product items in the shopping cart.</li>
<li>Make a payment to place an order.</li>
<li>Add a new product category.</li>
<li>Send notifications to members with shipment updates.</li>
</ol>
<figure class="my-8"><div class="relative"><div class="absolute inset-0 flex items-center justify-center bg-muted/20 rounded-lg"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div></div><img src="/assets/img/design/online-shopping/use-case.svg" alt="Usecase Diagram for Online Shopping" class="max-w-full h-auto rounded-lg border border-border shadow-sm mx-auto"/></div></figure>
<hr/>
<h2>Class Diagrams</h2>
<p>Here are the descriptions of the different classes of our Online Shopping System:</p>
<ul>
<li><strong>Account:</strong> There are two types of registered accounts in the system: one will be an Admin, who is responsible for adding new product categories and blocking/unblocking members; the other, a Member, who can buy/sell products.</li>
<li><strong>Guest:</strong> Guests can search for and view products, and add them in the shopping cart. To place an order they have to become a registered member.</li>
<li><strong>Catalog:</strong> Users of our system can search for products by their name or category. This class will keep an index of all products for faster search.</li>
<li><strong>ProductCategory:</strong> This will encapsulate the different categories of products, such as books, electronics, etc.</li>
<li><strong>Product:</strong> This class will encapsulate the entity that the users of our system will be buying and selling. Each Product will belong to a ProductCategory.</li>
<li><strong>ProductReview:</strong> Any registered member can add a review about a product.</li>
<li><strong>ShoppingCart:</strong> Users will add product items that they intend to buy to the shopping cart.</li>
<li><strong>Item:</strong> This class will encapsulate a product item that the users will be buying or placing in the shopping cart. For example, a pen could be a product and if there are 10 pens in the inventory, each of these 10 pens will be considered a product item.</li>
<li><strong>Order:</strong> This will encapsulate a buying order to buy everything in the shopping cart.</li>
<li><strong>OrderLog:</strong> Will keep a track of the status of orders, such as unshipped, pending, complete, canceled, etc.</li>
<li><strong>ShipmentLog:</strong> Will keep a track of the status of shipments, such as pending, shipped, delivered, etc.</li>
<li><strong>Notification:</strong> This class will take care of sending notifications to customers.</li>
<li><strong>Payment:</strong> This class will encapsulate the payment for an order. Members can pay through credit card or electronic bank transfer.</li>
</ul>
<figure class="my-8"><div class="relative"><div class="absolute inset-0 flex items-center justify-center bg-muted/20 rounded-lg"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div></div><img src="/assets/img/design/online-shopping/class-diagram.png" alt="Class Diagram for Online Shopping" class="max-w-full h-auto rounded-lg border border-border shadow-sm mx-auto"/></div></figure>
<figure class="my-8"><div class="relative"><div class="absolute inset-0 flex items-center justify-center bg-muted/20 rounded-lg"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div></div><img src="/assets/img/design/concepts/uml.svg" alt="Uml" class="max-w-full h-auto rounded-lg border border-border shadow-sm mx-auto"/></div></figure>
<hr/>
<h2>Activity Diagram</h2>
<p>Following is the activity diagram for a user performing online shopping:</p>
<figure class="my-8"><div class="relative"><div class="absolute inset-0 flex items-center justify-center bg-muted/20 rounded-lg"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div></div><img src="/assets/img/design/online-shopping/activity.svg" alt="Activity Diagram for Online Shopping" class="max-w-full h-auto rounded-lg border border-border shadow-sm mx-auto"/></div></figure>
<hr/>
<h2>Sequence Diagram</h2>
<ol>
<li>Here is the sequence diagram for searching from the catalog:</li>
</ol>
<figure class="my-8"><div class="relative"><div class="absolute inset-0 flex items-center justify-center bg-muted/20 rounded-lg"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div></div><img src="/assets/img/design/online-shopping/sequence-searching.svg" alt="Sequence Diagram for Online Shopping" class="max-w-full h-auto rounded-lg border border-border shadow-sm mx-auto"/></div></figure>
<ol start="2">
<li>Here is the sequence diagram for adding an item to the shopping cart:</li>
</ol>
<figure class="my-8"><div class="relative"><div class="absolute inset-0 flex items-center justify-center bg-muted/20 rounded-lg"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div></div><img src="/assets/img/design/online-shopping/sequence-adding-items.svg" alt="Sequence Diagram for Online Shopping" class="max-w-full h-auto rounded-lg border border-border shadow-sm mx-auto"/></div></figure>
<ol start="3">
<li>Here is the sequence diagram for checking out to place an order:</li>
</ol>
<figure class="my-8"><div class="relative"><div class="absolute inset-0 flex items-center justify-center bg-muted/20 rounded-lg"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div></div><img src="/assets/img/design/online-shopping/sequence-checkout.svg" alt="Sequence Diagram for Online Shopping" class="max-w-full h-auto rounded-lg border border-border shadow-sm mx-auto"/></div></figure>
<hr/>
<h2>Code</h2>
<p>Here is the high-level definition for the classes described above.</p>
<ul>
<li><strong>Enums and Constants:</strong> Here are the required enums, data types, and constants:</li>
</ul>
<div class="my-6 p-6 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800"><div class="flex items-center space-x-2"><div class="animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"></div><span class="text-sm text-gray-600 dark:text-gray-400">Loading code examples...</span></div></div>
<ul>
<li><strong>Account, Customer, Admin, and Guest:</strong> These classes represent different people that interact with our system:</li>
</ul>
<div class="my-6 p-6 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800"><div class="flex items-center space-x-2"><div class="animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"></div><span class="text-sm text-gray-600 dark:text-gray-400">Loading code examples...</span></div></div>
<ul>
<li><strong>ProductCategory, Product, and ProductReview:</strong> Here are the classes related to a product:</li>
</ul>
<div class="my-6 p-6 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800"><div class="flex items-center space-x-2"><div class="animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"></div><span class="text-sm text-gray-600 dark:text-gray-400">Loading code examples...</span></div></div>
<ul>
<li><strong>ShoppingCart, Item, Order, and OrderLog:</strong> Users will add items to the shopping cart and place an order to buy all the items in the cart.</li>
</ul>
<div class="my-6 p-6 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800"><div class="flex items-center space-x-2"><div class="animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"></div><span class="text-sm text-gray-600 dark:text-gray-400">Loading code examples...</span></div></div>
<ul>
<li><strong>Shipment, ShipmentLog, and Notification:</strong> After successfully placing an order, a shipment record will be created:</li>
</ul>
<div class="my-6 p-6 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800"><div class="flex items-center space-x-2"><div class="animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"></div><span class="text-sm text-gray-600 dark:text-gray-400">Loading code examples...</span></div></div>
<ul>
<li><strong>Search interface and Catalog:</strong> Catalog will implement Search to facilitate searching of products.</li>
</ul>
<div class="my-6 p-6 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800"><div class="flex items-center space-x-2"><div class="animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"></div><span class="text-sm text-gray-600 dark:text-gray-400">Loading code examples...</span></div></div></div></div></div></div></div><!--$--><!--/$--><script src="/cracking-interview/_next/static/chunks/webpack-dc8592505c0fbdf6.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[10961,[\"8609\",\"static/chunks/b321d78c-7a062717568e9902.js\",\"9696\",\"static/chunks/26d1fef7-ee766bdebc2771f4.js\",\"6334\",\"static/chunks/6334-d195304efa533649.js\",\"1959\",\"static/chunks/1959-5ce2d9e80376f08d.js\",\"7177\",\"static/chunks/app/layout-25227c6113fa4794.js\"],\"ThemeProvider\"]\n3:I[37752,[\"8609\",\"static/chunks/b321d78c-7a062717568e9902.js\",\"9696\",\"static/chunks/26d1fef7-ee766bdebc2771f4.js\",\"6334\",\"static/chunks/6334-d195304efa533649.js\",\"1959\",\"static/chunks/1959-5ce2d9e80376f08d.js\",\"7177\",\"static/chunks/app/layout-25227c6113fa4794.js\"],\"AuthProvider\"]\n4:I[37462,[\"8609\",\"static/chunks/b321d78c-7a062717568e9902.js\",\"9696\",\"static/chunks/26d1fef7-ee766bdebc2771f4.js\",\"6334\",\"static/chunks/6334-d195304efa533649.js\",\"1959\",\"static/chunks/1959-5ce2d9e80376f08d.js\",\"7177\",\"static/chunks/app/layout-25227c6113fa4794.js\"],\"default\"]\n5:I[95079,[],\"\"]\n6:I[81019,[],\"\"]\n8:I[96590,[],\"OutletBoundary\"]\na:I[47875,[],\"AsyncMetadataOutlet\"]\nc:I[96590,[],\"ViewportBoundary\"]\ne:I[96590,[],\"MetadataBoundary\"]\nf:\"$Sreact.suspense\"\n11:I[69741,[],\"\"]\n:HL[\"/cracking-interview/_next/static/media/569ce4b8f30dc480-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/cracking-interview/_next/static/media/93f479601ee12b01-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/cracking-interview/_next/static/css/ff78c3bf1dd6c987.css\",\"style\"]\n:HL[\"/cracking-interview/_next/static/css/34937f2da1ffdcf9.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"3ddzafj3y1iV8DPtiYwP4\",\"p\":\"/cracking-interview\",\"c\":[\"\",\"system-design\",\"online-shopping\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"system-design\",{\"children\":[[\"slug\",\"online-shopping\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/cracking-interview/_next/static/css/ff78c3bf1dd6c987.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/cracking-interview/_next/static/css/34937f2da1ffdcf9.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_68ab41 __variable_8cef05 antialiased\",\"children\":[\"$\",\"$L2\",null,{\"children\":[\"$\",\"$L3\",null,{\"children\":[[\"$\",\"$L4\",null,{}],[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L6\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]}]}]}]]}],{\"children\":[\"system-design\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L6\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"online-shopping\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L6\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L7\",null,[\"$\",\"$L8\",null,{\"children\":[\"$L9\",[\"$\",\"$La\",null,{\"promise\":\"$@b\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$Lc\",null,{\"children\":\"$Ld\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]],[\"$\",\"$Le\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$f\",null,{\"fallback\":null,\"children\":\"$L10\"}]}]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$11\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"d:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n9:null\n"])</script><script>self.__next_f.push([1,"b:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Cracking the Interview\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Master coding interviews with comprehensive practice problems, system design, and behavioral questions\"}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"10:\"$b:metadata\"\n"])</script><script>self.__next_f.push([1,"12:I[36334,[\"6334\",\"static/chunks/6334-d195304efa533649.js\",\"5982\",\"static/chunks/5982-8f18ab36ced88977.js\",\"17\",\"static/chunks/app/system-design/%5Bslug%5D/page-2e21c7ce311ec90f.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"7:[\"$\",\"div\",null,{\"className\":\"min-h-screen bg-gray-50 dark:bg-gray-900\",\"children\":[\"$\",\"div\",null,{\"className\":\"container mx-auto px-4 py-8\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[\"$\",\"$L12\",null,{\"href\":\"/system-design\",\"className\":\"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300\",\"children\":\"← Back to System Design\"}]}],[\"$\",\"div\",null,{\"className\":\"bg-white dark:bg-gray-800 rounded-lg shadow-sm\",\"children\":[[\"$\",\"div\",null,{\"className\":\"p-6 border-b border-gray-200 dark:border-gray-700\",\"children\":[\"$\",\"h1\",null,{\"className\":\"text-3xl font-bold text-gray-900 dark:text-white\",\"children\":\"Online Shopping\"}]}],[\"$\",\"div\",null,{\"className\":\"p-6\",\"children\":[\"$\",\"div\",null,{\"className\":\"prose prose-lg dark:prose-invert max-w-none\",\"children\":\"$L13\"}]}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"13:[[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"title: \\\"Design Amazon - Online Shopping System\\\"\\nauthor: \\\"Rajat Srivastava\\\"\\ncategories: system-designs\\ntags: [system-design, hld, lld]\\ndescription: \\\"System design concepts and patterns\\\"\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"https://amazon.com\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"className\":\"inline-flex items-center gap-1 text-primary hover:text-primary/80 underline underline-offset-2 transition-colors \",\"children\":[\"Amazon\",[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-external-link h-3 w-3\",\"aria-hidden\":\"true\",\"children\":[[\"$\",\"path\",\"1q9fwt\",{\"d\":\"M15 3h6v6\"}],[\"$\",\"path\",\"gplh6r\",{\"d\":\"M10 14 21 3\"}],[\"$\",\"path\",\"a6xqqp\",{\"d\":\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\"}],\"$undefined\"]}]]}],\" is the world's largest online retailer. The company was originally a bookseller but has expanded to sell a wide variety of consumer goods and digital media. For the sake of this problem, we will focus on their online retail business where users can sell/buy their products.\"]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"System Requirements\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"We will be designing a system with the following requirements:\"}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Users should be able to add new products to sell.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Users should be able to search for products by their name or category.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Users can search and view all the products, but they will have to become a registered member to buy a product.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Users should be able to add/remove/modify product items in their shopping cart.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Users can check out and buy items in the shopping cart.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Users can rate and add a review for a product.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"The user should be able to specify a shipping address where their order will be delivered.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Users can cancel an order if it has not shipped.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Users should get notifications whenever there is a change in the order or shipping status.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Users should be able to pay through credit cards or electronic bank transfer.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Users should be able to track their shipment to see the current state of their order.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Use Case Diagrams\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"We have four main Actors in our system:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Admin:\"}],\" Mainly responsible for account management and adding or modifying new product categories.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Guest:\"}],\" All guests can search the catalog, add/remove items to the shopping cart, as well as become registered members.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Member:\"}],\" Members can perform all the activities that guests can, in addition to which, they can place orders and add new products to sell.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"System:\"}],\" Mainly responsible for sending notifications for orders and shipping updates.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Here are the top use cases of the Online Shopping System:\"}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Add/update products; whenever a product is added or modified, we will update the catalog.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Search for products by their name or category.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Add/remove product items in the shopping cart.\"}],\"\\n\",\"$L14\",\"\\n\",\"$L15\",\"\\n\",\"$L16\",\"\\n\",\"$L17\",\"\\n\"]}],\"\\n\",\"$L18\",\"\\n\",\"$L19\",\"\\n\",\"$L1a\",\"\\n\",\"$L1b\",\"\\n\",\"$L1c\",\"\\n\",\"$L1d\",\"\\n\",\"$L1e\",\"\\n\",\"$L1f\",\"\\n\",\"$L20\",\"\\n\",\"$L21\",\"\\n\",\"$L22\",\"\\n\",\"$L23\",\"\\n\",\"$L24\",\"\\n\",\"$L25\",\"\\n\",\"$L26\",\"\\n\",\"$L27\",\"\\n\",\"$L28\",\"\\n\",\"$L29\",\"\\n\",\"$L2a\",\"\\n\",\"$L2b\",\"\\n\",\"$L2c\",\"\\n\",\"$L2d\",\"\\n\",\"$L2e\",\"\\n\",\"$L2f\",\"\\n\",\"$L30\",\"\\n\",\"$L31\",\"\\n\",\"$L32\",\"\\n\",\"$L33\",\"\\n\",\"$L34\",\"\\n\",\"$L35\",\"\\n\",\"$L36\",\"\\n\",\"$L37\",\"\\n\",\"$L38\",\"\\n\",\"$L39\"]\n"])</script><script>self.__next_f.push([1,"3a:I[48693,[\"6334\",\"static/chunks/6334-d195304efa533649.js\",\"5982\",\"static/chunks/5982-8f18ab36ced88977.js\",\"17\",\"static/chunks/app/system-design/%5Bslug%5D/page-2e21c7ce311ec90f.js\"],\"MdxImage\"]\n3b:I[11141,[\"6334\",\"static/chunks/6334-d195304efa533649.js\",\"5982\",\"static/chunks/5982-8f18ab36ced88977.js\",\"17\",\"static/chunks/app/system-design/%5Bslug%5D/page-2e21c7ce311ec90f.js\"],\"MdxCodeTabs\"]\n14:[\"$\",\"li\",null,{\"children\":\"Check-out to buy product items in the shopping cart.\"}]\n15:[\"$\",\"li\",null,{\"children\":\"Make a payment to place an order.\"}]\n16:[\"$\",\"li\",null,{\"children\":\"Add a new product category.\"}]\n17:[\"$\",\"li\",null,{\"children\":\"Send notifications to members with shipment updates.\"}]\n18:[\"$\",\"$L3a\",null,{\"src\":\"design/online-shopping/use-case.svg\",\"alt\":\"Usecase Diagram for Online Shopping\"}]\n19:[\"$\",\"hr\",null,{}]\n1a:[\"$\",\"h2\",null,{\"children\":\"Class Diagrams\"}]\n1b:[\"$\",\"p\",null,{\"children\":\"Here are the descriptions of the different classes of our Online Shopping System:\"}]\n"])</script><script>self.__next_f.push([1,"1c:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Account:\"}],\" There are two types of registered accounts in the system: one will be an Admin, who is responsible for adding new product categories and blocking/unblocking members; the other, a Member, who can buy/sell products.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Guest:\"}],\" Guests can search for and view products, and add them in the shopping cart. To place an order they have to become a registered member.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Catalog:\"}],\" Users of our system can search for products by their name or category. This class will keep an index of all products for faster search.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"ProductCategory:\"}],\" This will encapsulate the different categories of products, such as books, electronics, etc.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Product:\"}],\" This class will encapsulate the entity that the users of our system will be buying and selling. Each Product will belong to a ProductCategory.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"ProductReview:\"}],\" Any registered member can add a review about a product.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"ShoppingCart:\"}],\" Users will add product items that they intend to buy to the shopping cart.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Item:\"}],\" This class will encapsulate a product item that the users will be buying or placing in the shopping cart. For example, a pen could be a product and if there are 10 pens in the inventory, each of these 10 pens will be considered a product item.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Order:\"}],\" This will encapsulate a buying order to buy everything in the shopping cart.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"OrderLog:\"}],\" Will keep a track of the status of orders, such as unshipped, pending, complete, canceled, etc.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"ShipmentLog:\"}],\" Will keep a track of the status of shipments, such as pending, shipped, delivered, etc.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Notification:\"}],\" This class will take care of sending notifications to customers.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Payment:\"}],\" This class will encapsulate the payment for an order. Members can pay through credit card or electronic bank transfer.\"]}],\"\\n\"]}]\n"])</script><script>self.__next_f.push([1,"1d:[\"$\",\"$L3a\",null,{\"src\":\"design/online-shopping/class-diagram.png\",\"alt\":\"Class Diagram for Online Shopping\"}]\n1e:[\"$\",\"$L3a\",null,{\"src\":\"design/concepts/uml.svg\",\"alt\":\"Uml\"}]\n1f:[\"$\",\"hr\",null,{}]\n20:[\"$\",\"h2\",null,{\"children\":\"Activity Diagram\"}]\n21:[\"$\",\"p\",null,{\"children\":\"Following is the activity diagram for a user performing online shopping:\"}]\n22:[\"$\",\"$L3a\",null,{\"src\":\"design/online-shopping/activity.svg\",\"alt\":\"Activity Diagram for Online Shopping\"}]\n23:[\"$\",\"hr\",null,{}]\n24:[\"$\",\"h2\",null,{\"children\":\"Sequence Diagram\"}]\n25:[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Here is the sequence diagram for searching from the catalog:\"}],\"\\n\"]}]\n26:[\"$\",\"$L3a\",null,{\"src\":\"design/online-shopping/sequence-searching.svg\",\"alt\":\"Sequence Diagram for Online Shopping\"}]\n27:[\"$\",\"ol\",null,{\"start\":\"2\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Here is the sequence diagram for adding an item to the shopping cart:\"}],\"\\n\"]}]\n28:[\"$\",\"$L3a\",null,{\"src\":\"design/online-shopping/sequence-adding-items.svg\",\"alt\":\"Sequence Diagram for Online Shopping\"}]\n29:[\"$\",\"ol\",null,{\"start\":\"3\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Here is the sequence diagram for checking out to place an order:\"}],\"\\n\"]}]\n2a:[\"$\",\"$L3a\",null,{\"src\":\"design/online-shopping/sequence-checkout.svg\",\"alt\":\"Sequence Diagram for Online Shopping\"}]\n2b:[\"$\",\"hr\",null,{}]\n2c:[\"$\",\"h2\",null,{\"children\":\"Code\"}]\n2d:[\"$\",\"p\",null,{\"children\":\"Here is the high-level definition for the classes described above.\"}]\n2e:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Enums and Constants:\"}],\" Here are the required enums, data types, and constants:\"]}],\"\\n\"]}]\n2f:[\"$\",\"$L3b\",null,{\"langs\":[\"java\",\"py\"],\"path\":\"system-design/code/online-shopping/enums\"}]\n30:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Account, Customer, Admin, and Guest:\"}],\" These classes represent different people that interact with our system:\"]}],\"\\n\"]}]\n31:[\"$\",\"$L3b\",null,{\""])</script><script>self.__next_f.push([1,"langs\":[\"java\",\"py\"],\"path\":\"system-design/code/online-shopping/accounts\"}]\n32:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"ProductCategory, Product, and ProductReview:\"}],\" Here are the classes related to a product:\"]}],\"\\n\"]}]\n33:[\"$\",\"$L3b\",null,{\"langs\":[\"java\",\"py\"],\"path\":\"system-design/code/online-shopping/product\"}]\n34:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"ShoppingCart, Item, Order, and OrderLog:\"}],\" Users will add items to the shopping cart and place an order to buy all the items in the cart.\"]}],\"\\n\"]}]\n35:[\"$\",\"$L3b\",null,{\"langs\":[\"java\",\"py\"],\"path\":\"system-design/code/online-shopping/cart\"}]\n36:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Shipment, ShipmentLog, and Notification:\"}],\" After successfully placing an order, a shipment record will be created:\"]}],\"\\n\"]}]\n37:[\"$\",\"$L3b\",null,{\"langs\":[\"java\",\"py\"],\"path\":\"system-design/code/online-shopping/shipment\"}]\n38:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Search interface and Catalog:\"}],\" Catalog will implement Search to facilitate searching of products.\"]}],\"\\n\"]}]\n39:[\"$\",\"$L3b\",null,{\"langs\":[\"java\",\"py\"],\"path\":\"system-design/code/online-shopping/search\"}]\n"])</script></body></html>